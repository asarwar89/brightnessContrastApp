{"remainingRequest":"/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/node_modules/babel-loader/lib/index.js!/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/src/App.vue","mtime":1551269355261},{"path":"/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport BrightnessContrastSlider from './components/BrightnessContrastSlider.vue';\nexport default {\n  data: function data() {\n    return {\n      imageSrc: require('@/assets/placeholder.png'),\n      imageBrightness: 50,\n      imageContrast: 50,\n      imageWidth: 0,\n      imageHeight: 0,\n      targetImage: {\n        type: Array\n      },\n      disableSlider: true\n    };\n  },\n  watch: {\n    imageBrightness: function imageBrightness() {\n      this.drawImage('brightness');\n    },\n    imageContrast: function imageContrast() {\n      this.drawImage('contrast');\n    }\n  },\n  name: 'app',\n  components: {\n    BrightnessContrastSlider: BrightnessContrastSlider\n  },\n  mounted: function mounted() {\n    this.imgLoad(true);\n  },\n  methods: {\n    imgLoad: function imgLoad(isLoad) {\n      var _this = this;\n\n      this.imageWidth = this.$refs.imageBox.clientWidth;\n      var base_image = new Image();\n      base_image.src = this.imageSrc;\n      this.targetImage = base_image;\n\n      base_image.onload = function (e) {\n        _this.imageHeight = base_image.height / (base_image.width / _this.imageWidth);\n\n        _this.drawImage('load');\n      };\n    },\n    drawImage: function drawImage(updateSource) {\n      var canvas = document.getElementById('viewport');\n      var context = canvas.getContext('2d');\n      canvas.width = this.imageWidth;\n      canvas.height = this.imageHeight;\n      context.drawImage(this.targetImage, 0, 0, this.imageWidth, this.imageHeight);\n      var imageData = context.getImageData(0, 0, this.imageWidth, this.imageHeight);\n      this.applyBrightnessContrast(imageData.data, updateSource);\n      context.putImageData(imageData, 0, 0);\n    },\n    applyBrightnessContrast: function applyBrightnessContrast(data, updateSource) {\n      var i;\n\n      if (updateSource == 'brightness') {\n        this.contrastFunction(data);\n        this.brightnessFunction(data);\n      } else if (updateSource == 'contrast') {\n        this.brightnessFunction(data);\n        this.contrastFunction(data);\n      }\n    },\n    brightnessFunction: function brightnessFunction(data) {\n      var brightnessVal = this.imageBrightness * 2 - 100;\n\n      for (var i = 0; i < data.length; i += 4) {\n        data[i] += 255 * (brightnessVal / 100);\n        data[i + 1] += 255 * (brightnessVal / 100);\n        data[i + 2] += 255 * (brightnessVal / 100);\n      }\n    },\n    contrastFunction: function contrastFunction(data) {\n      var contrastVal = this.imageContrast * 2 - 100;\n      var factor = 259.0 * (contrastVal + 255.0) / (255.0 * (259.0 - contrastVal));\n\n      for (var i = 0; i < data.length; i += 4) {\n        data[i] = this.limitColorValue(factor * (data[i] - 128.0) + 128.0);\n        data[i + 1] = this.limitColorValue(factor * (data[i + 1] - 128.0) + 128.0);\n        data[i + 2] = this.limitColorValue(factor * (data[i + 2] - 128.0) + 128.0);\n      }\n    },\n    limitColorValue: function limitColorValue(value) {\n      if (value < 0) {\n        value = 0;\n      } else if (value > 255) {\n        value = 255;\n      }\n\n      return value;\n    },\n    imgReset: function imgReset() {\n      this.imageBrightness = 50, this.imageContrast = 50;\n    },\n    processPreview: function processPreview(event) {\n      var _this2 = this;\n\n      var input = event.target;\n      this.disableSlider = true;\n\n      if (input.files && input.files[0]) {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n          _this2.imageSrc = e.target.result;\n\n          _this2.imgLoad(true);\n\n          _this2.disableSlider = false;\n\n          _this2.imgReset();\n        };\n\n        reader.readAsDataURL(input.files[0]);\n        document.getElementById('userImgFile').value = input.files[0].name;\n      }\n    }\n  }\n};",{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n\n  <div id=\"app\">\n\n    <div class=\"setting-bars\">\n\n      <div class=\"bar-element brightness\">\n\n        <h2 class=\"section-title\">\n          Brightness\n        </h2>\n        \n        <div :class=\"{inactive: disableSlider}\" class=\"slider-wrapper\">\n          <BrightnessContrastSlider v-model=\"imageBrightness\" v-on:change=\"drawImage\"/>\n          <div class=\"apply-disable\">&nbsp;</div>\n        </div>\n\n        <p>Slide to adjust image brightness!‚òÄÔ∏è</p>\n\n      </div>\n\n      <div class=\"bar-element contrast\">\n\n        <h2 class=\"section-title\">\n          Contrast\n        </h2>\n\n        <div :class=\"{inactive: disableSlider}\" class=\"slider-wrapper\">\n          <BrightnessContrastSlider v-model=\"imageContrast\" v-on:change=\"drawImage\"/>\n          <div class=\"apply-disable\">&nbsp;</div>\n        </div>\n\n        <p>Slide to adjust image contrast! üåì</p>\n\n      </div>\n\n    </div>\n\n    <div class=\"user-section\" ref=\"imageBox\">\n\n      <canvas id=\"viewport\"></canvas>\n\n      <div class=\"file-row clearfix\">\n\n        <span class=\"name-block\">\n\n          <label for=\"userImgFile\">Name</label>\n          <input type=\"text\" id=\"userImgFile\" value=\"FILE NAME ...\">\n\n        </span>\n\n        <div class=\"upload-button-wrapper\">\n          <button id=\"upload-button\">\n            <svg height=\"20\" width=\"30\">\n              <polygon points=\"11,4 20,18 2,18\" stroke-linejoin=\"round\" style=\"fill:#4A90E2;stroke:#4A90E2;stroke-width:4\"></polygon>\n            </svg>\n            Upload\n          </button>\n          <input type=\"file\" id=\"fileUpload\" ref=\"myFiles\" v-on:change=\"processPreview\">\n        </div>\n\n      </div>\n\n      <button :disabled=\"!!disableSlider\" id=\"reset-button\" v-on:click=\"imgReset\">Reset</button>\n\n    </div>\n    \n  </div>\n</template>\n\n<script>\n\nimport BrightnessContrastSlider from './components/BrightnessContrastSlider.vue';\n\nexport default {\n  data: function(){\n    return {\n      imageSrc: require('@/assets/placeholder.png'),\n      imageBrightness: 50,\n      imageContrast: 50,\n      imageWidth: 0,\n      imageHeight: 0,\n      targetImage: {\n        type: Array\n      },\n      disableSlider: true\n    }\n  },\n  watch: {\n    imageBrightness: function(){\n      this.drawImage('brightness');\n    },\n    imageContrast: function(){\n      this.drawImage('contrast');\n    }\n  },\n  name: 'app',\n  components: {\n    BrightnessContrastSlider\n  },\n  mounted:function(){\n    this.imgLoad(true);\n  },\n  methods: {\n    imgLoad:function(isLoad){\n      this.imageWidth = this.$refs.imageBox.clientWidth;\n\n      var base_image = new Image();\n      base_image.src = this.imageSrc;\n      this.targetImage = base_image;\n\n      base_image.onload = (e) => {\n        this.imageHeight = (base_image.height/(base_image.width/this.imageWidth));\n        this.drawImage('load');\n      }\n      \n    },\n\n    drawImage: function(updateSource){\n      var canvas = document.getElementById('viewport');\n      var context = canvas.getContext('2d');\n      canvas.width = this.imageWidth;\n      canvas.height = this.imageHeight;\n\n      context.drawImage(this.targetImage, 0, 0,this.imageWidth, this.imageHeight );\n\n      var imageData = context.getImageData(0, 0, this.imageWidth, this.imageHeight);\n      this.applyBrightnessContrast(imageData.data, updateSource);\n\n      context.putImageData(imageData, 0, 0);\n    },\n\n    applyBrightnessContrast:function(data, updateSource) {\n      \n      var i;\n\n      if (updateSource == 'brightness') {\n\n        this.contrastFunction(data);\n        this.brightnessFunction(data);\n\n      } else if (updateSource == 'contrast') {\n\n        this.brightnessFunction(data);\n        this.contrastFunction(data);\n\n      }\n    },\n    brightnessFunction:function(data) {\n      var brightnessVal = this.imageBrightness * 2 - 100;\n\n      for (var i = 0; i < data.length; i+= 4) {\n        data[i] += 255 * (brightnessVal / 100);\n        data[i+1] += 255 * (brightnessVal / 100);\n        data[i+2] += 255 * (brightnessVal / 100);\n      }\n    },\n    contrastFunction:function(data) {\n      var contrastVal = this.imageContrast * 2 - 100;\n      var factor = (259.0 * (contrastVal + 255.0)) / (255.0 * (259.0 - contrastVal));\n\n      for (var i = 0; i < data.length; i+= 4) {\n        data[i] = this.limitColorValue(factor * (data[i] - 128.0) + 128.0);\n        data[i+1] = this.limitColorValue(factor * (data[i+1] - 128.0) + 128.0);\n        data[i+2] = this.limitColorValue(factor * (data[i+2] - 128.0) + 128.0);\n      }\n    },\n    limitColorValue:function(value){\n      if (value < 0) {\n        value = 0;\n      } else if (value > 255) {\n        value = 255;\n      } \n      return value;\n    },\n\n    imgReset:function(){\n      this.imageBrightness = 50,\n      this.imageContrast = 50\n    },\n\n    processPreview:function(event) {\n      \n      var input = event.target;\n      this.disableSlider = true;\n\n      if (input.files && input.files[0]) {\n          \n          var reader = new FileReader();\n          \n          reader.onload = (e) => {\n              this.imageSrc = e.target.result;\n              this.imgLoad(true);\n              this.disableSlider = false;\n              this.imgReset();\n          }\n\n          reader.readAsDataURL(input.files[0]);\n          document.getElementById('userImgFile').value = input.files[0].name;\n      }\n    }\n  }\n}\n\n</script>\n\n<style src=\"@/assets/css/app.css\"></style>\n"],"sourceRoot":"src"}]}