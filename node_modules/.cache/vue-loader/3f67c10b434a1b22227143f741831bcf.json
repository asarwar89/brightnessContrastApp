{"remainingRequest":"/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/src/App.vue","mtime":1551265092938},{"path":"/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sarwar/js-apps/vuejs/brightnessContrastApp2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport BrightnessContrastSlider from './components/BrightnessContrastSlider.vue';\n\nexport default {\n  data: function(){\n    return {\n      imageSrc: require('@/assets/placeholder.png'),\n      imageBrightness: 50,\n      imageContrast: 50,\n      imageWidth: 0,\n      imageHeight: 0,\n      targetImage: {\n        type: Array\n      },\n      disableSlider: true\n    }\n  },\n  watch: {\n    imageBrightness: function(){\n      this.imgLoad();\n    },\n    imageContrast: function(){\n      this.imgLoad();\n    }\n  },\n  name: 'app',\n  components: {\n    BrightnessContrastSlider\n  },\n  mounted:function(){\n    this.imgLoad(true);\n  },\n  methods: {\n    imgLoad:function(isLoad){\n      this.imageWidth = this.$refs.imageBox.clientWidth;\n\n      var base_image = new Image();\n      base_image.src = this.imageSrc;\n      this.targetImage = base_image;\n\n      if (isLoad) {\n        base_image.onload = (e) => {\n          this.imageHeight = (base_image.height/(base_image.width/this.imageWidth));\n          this.drawImage();\n        }\n      } else {\n        this.drawImage();\n      } \n    },\n\n    drawImage: function(){\n      var canvas = document.getElementById('viewport');\n      var context = canvas.getContext('2d');\n      canvas.width = this.imageWidth;\n      canvas.height = this.imageHeight;\n\n      context.drawImage(this.targetImage, 0, 0,this.imageWidth, this.imageHeight );\n\n      var imageData = context.getImageData(0, 0, this.imageWidth, this.imageHeight);\n      this.applyBrightnessContrast(imageData.data);\n\n      context.putImageData(imageData, 0, 0);\n    },\n\n    applyBrightnessContrast:function(data) {\n      var brightnessVal = this.imageBrightness * 2 - 100;\n\n      for (var i = 0; i < data.length; i+= 4) {\n          data[i] += 255 * (brightnessVal / 100);\n          data[i+1] += 255 * (brightnessVal / 100);\n          data[i+2] += 255 * (brightnessVal / 100);\n      }\n\n      var contrastVal = this.imageContrast * 2 - 100;\n      var factor = (259.0 * (contrastVal + 255.0)) / (255.0 * (259.0 - contrastVal));\n\n      for (i = 0; i < data.length; i+= 4) {\n        data[i] = this.limitColorValue(factor * (data[i] - 128.0) + 128.0);\n        data[i+1] = this.limitColorValue(factor * (data[i+1] - 128.0) + 128.0);\n        data[i+2] = this.limitColorValue(factor * (data[i+2] - 128.0) + 128.0);\n      }\n    },\n\n    limitColorValue:function(value){\n      if (value < 0) {\n        value = 0;\n      } else if (value > 255) {\n        value = 255;\n      } \n      return value;\n    },\n\n    imgReset:function(){\n      this.imageBrightness = 50,\n      this.imageContrast = 50\n    },\n\n    processPreview:function(event) {\n      \n      var input = event.target;\n      this.disableSlider = true;\n\n      if (input.files && input.files[0]) {\n          \n          var reader = new FileReader();\n          \n          reader.onload = (e) => {\n              this.imageSrc = e.target.result;\n              this.imgLoad(true);\n              this.disableSlider = false;\n              this.imgReset();\n          }\n\n          reader.readAsDataURL(input.files[0]);\n          document.getElementById('userImgFile').value = input.files[0].name;\n      }\n    }\n  }\n}\n\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n\n  <div id=\"app\">\n\n    <div class=\"setting-bars\">\n\n      <div class=\"bar-element brightness\">\n\n        <h2 class=\"section-title\">\n          Brightness\n        </h2>\n        \n        <div :class=\"{inactive: disableSlider}\" class=\"slider-wrapper\">\n          <BrightnessContrastSlider v-model=\"imageBrightness\" v-on:change=\"drawImage\"/>\n          <div class=\"apply-disable\">&nbsp;</div>\n        </div>\n\n        <p>Slide to adjust image brightness!‚òÄÔ∏è</p>\n\n      </div>\n\n      <div class=\"bar-element contrast\">\n\n        <h2 class=\"section-title\">\n          Contrast\n        </h2>\n\n        <div :class=\"{inactive: disableSlider}\" class=\"slider-wrapper\">\n          <BrightnessContrastSlider v-model=\"imageContrast\" v-on:change=\"drawImage\"/>\n          <div class=\"apply-disable\">&nbsp;</div>\n        </div>\n\n        <p>Slide to adjust image contrast! üåì</p>\n\n      </div>\n\n    </div>\n\n    <div class=\"user-section\" ref=\"imageBox\">\n\n      <canvas id=\"viewport\"></canvas>\n\n      <div class=\"file-row clearfix\">\n\n        <span class=\"name-block\">\n\n          <label for=\"userImgFile\">Name</label>\n          <input type=\"text\" id=\"userImgFile\" value=\"FILE NAME ...\">\n\n        </span>\n\n        <div class=\"upload-button-wrapper\">\n          <button id=\"upload-button\">\n            <svg height=\"20\" width=\"30\">\n              <polygon points=\"11,4 20,18 2,18\" stroke-linejoin=\"round\" style=\"fill:#4A90E2;stroke:#4A90E2;stroke-width:4\"></polygon>\n            </svg>\n            Upload\n          </button>\n          <input type=\"file\" id=\"fileUpload\" ref=\"myFiles\" v-on:change=\"processPreview\">\n        </div>\n\n      </div>\n\n      <button :disabled=\"!!disableSlider\" id=\"reset-button\" v-on:click=\"imgReset\">Reset</button>\n\n    </div>\n    \n  </div>\n</template>\n\n<script>\n\nimport BrightnessContrastSlider from './components/BrightnessContrastSlider.vue';\n\nexport default {\n  data: function(){\n    return {\n      imageSrc: require('@/assets/placeholder.png'),\n      imageBrightness: 50,\n      imageContrast: 50,\n      imageWidth: 0,\n      imageHeight: 0,\n      targetImage: {\n        type: Array\n      },\n      disableSlider: true\n    }\n  },\n  watch: {\n    imageBrightness: function(){\n      this.imgLoad();\n    },\n    imageContrast: function(){\n      this.imgLoad();\n    }\n  },\n  name: 'app',\n  components: {\n    BrightnessContrastSlider\n  },\n  mounted:function(){\n    this.imgLoad(true);\n  },\n  methods: {\n    imgLoad:function(isLoad){\n      this.imageWidth = this.$refs.imageBox.clientWidth;\n\n      var base_image = new Image();\n      base_image.src = this.imageSrc;\n      this.targetImage = base_image;\n\n      if (isLoad) {\n        base_image.onload = (e) => {\n          this.imageHeight = (base_image.height/(base_image.width/this.imageWidth));\n          this.drawImage();\n        }\n      } else {\n        this.drawImage();\n      } \n    },\n\n    drawImage: function(){\n      var canvas = document.getElementById('viewport');\n      var context = canvas.getContext('2d');\n      canvas.width = this.imageWidth;\n      canvas.height = this.imageHeight;\n\n      context.drawImage(this.targetImage, 0, 0,this.imageWidth, this.imageHeight );\n\n      var imageData = context.getImageData(0, 0, this.imageWidth, this.imageHeight);\n      this.applyBrightnessContrast(imageData.data);\n\n      context.putImageData(imageData, 0, 0);\n    },\n\n    applyBrightnessContrast:function(data) {\n      var brightnessVal = this.imageBrightness * 2 - 100;\n\n      for (var i = 0; i < data.length; i+= 4) {\n          data[i] += 255 * (brightnessVal / 100);\n          data[i+1] += 255 * (brightnessVal / 100);\n          data[i+2] += 255 * (brightnessVal / 100);\n      }\n\n      var contrastVal = this.imageContrast * 2 - 100;\n      var factor = (259.0 * (contrastVal + 255.0)) / (255.0 * (259.0 - contrastVal));\n\n      for (i = 0; i < data.length; i+= 4) {\n        data[i] = this.limitColorValue(factor * (data[i] - 128.0) + 128.0);\n        data[i+1] = this.limitColorValue(factor * (data[i+1] - 128.0) + 128.0);\n        data[i+2] = this.limitColorValue(factor * (data[i+2] - 128.0) + 128.0);\n      }\n    },\n\n    limitColorValue:function(value){\n      if (value < 0) {\n        value = 0;\n      } else if (value > 255) {\n        value = 255;\n      } \n      return value;\n    },\n\n    imgReset:function(){\n      this.imageBrightness = 50,\n      this.imageContrast = 50\n    },\n\n    processPreview:function(event) {\n      \n      var input = event.target;\n      this.disableSlider = true;\n\n      if (input.files && input.files[0]) {\n          \n          var reader = new FileReader();\n          \n          reader.onload = (e) => {\n              this.imageSrc = e.target.result;\n              this.imgLoad(true);\n              this.disableSlider = false;\n              this.imgReset();\n          }\n\n          reader.readAsDataURL(input.files[0]);\n          document.getElementById('userImgFile').value = input.files[0].name;\n      }\n    }\n  }\n}\n\n</script>\n\n<style src=\"@/assets/css/app.css\"></style>\n"]}]}